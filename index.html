<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title> Main Page</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/4.1.2/papaparse.js"></script>
    </script>
</head>

<body>
    <div class="container">

        <script>
            $(document).ready(function () {
                selectImage();
                arrayToTable();
                window.setInterval(selectImage, 1000);
            });

            function arrayToTable(tableData) {
                var table = $('<table></table>');
                $(tableData).each(function (i, rowData) {
                    var row = $('<tr></tr>');
                    $(rowData).each(function (j, cellData) {
                        row.append($('<td>' + cellData + '</td>'));
                    });
                    table.append(row);
                });
                return table;
            }

            $.ajax({
                type: "GET",
                url: "http://localhost:8080/times.csv",
                success: function (data) {
                    $('body').append(arrayToTable(Papa.parse(data).data));
                    $('body').append(selectImage(Papa.parse(data).data));
                }
            });
            var hours = new Date().hours;
            var minutes = new Date().minutes;
            var imageName;
            function selectImage(Data) {
                for (var i = 0; i < Data.length; i++) {
                    if (Data[i][2] >= hours && Data[i][3] >= minutes) {
                        imageName = Data[i][1];
                        $('body').append(imageName);
                    }
                }
            }

        </script>

        <!--         </script>
        <div class="nav-wrapper">
            <div class="left-side">
                <div class="nav-link-wrapper">
                    <a href="index.html">Home</a>
                </div>
                <div class="nav-link-wrapper">
                    <a href="about.html">About</a>
                </div>
            </div>
            <div class="right-side">
                <div class="brand">
                    <div>JACOB FRIGHT</div>
                </div>
            </div>
        </div>

    </div>
    <imagesection>
        <img class="imagefade" src="Images/1.-01hrs30.jpg" alt="Feed Time - 01:30-01:51">
        <div class="caption">Feed duration 21 minutes</div>

        <script>
            window.setInterval(SetImage, 5000);
            $(document).ready(function () {
                var nowdate = new Date();
                var waketime = new Date();
                waketime.setHours(16);
                waketime.setMinutes(26);

                var bedtime = new Date();
                bedtime.setHours(16);
                bedtime.setMinutes(37);
                if (waketime < nowdate && nowdate < bedtime) {
                    $(".imagefade").attr("src", "Images/1.-01hrs30.jpg");
                    $(".caption").text("Feed duration 21 minutes");
                }
                else {
                    $(".imagefade").attr("src", "Images/1.-09hrs32.jpg");
                    $(".caption").text("Feed duration 10 minutes");
                }
            })
        </script>
    </imagesection> -->
</body>

</html>

<!-- <!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title> Main Page</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/4.1.2/papaparse.js"></script>
    </script>
</head>

<body>
    </script>
    <div class="nav-wrapper">
        <div class="left-side">
            <div class="nav-link-wrapper">
                <a href="index.html">Home</a>
            </div>
            <div class="nav-link-wrapper">
                <a href="about.html">About</a>
            </div>
        </div>
        <div class="right-side">
            <div class="brand">
                <div>JACOB FRIGHT</div>
            </div>
        </div>
    </div>

    </div>
    <imagesection>
        <img class="imagefade" src="ONDEMAND/Images/1.01hrs30.jpg" alt="Feed Time - 01:30-01:51">
        <div class="caption">Default Image</div>

        <script>
            //window.setInterval(SetImage, 5000);
            $(document).ready(function SetImage() {
                var nowdate = new Date();
                var imagestart1 = new Date();
                imagestart1.setHours(01), imagestart1.setMinutes(30);
                var imageend1 = new Date();
                imageend1.setHours(01), imageend1.setMinutes(51);
                var imagestart2 = new Date();
                imagestart2.setHours(06), imagestart2.setMinutes(28);
                var imageend2 = new Date();
                imageend2.setHours(06), imageend2.setMinutes(38);
                var imagestart3 = new Date();
                imagestart3.setHours(09), imagestart3.setMinutes(32);
                var imageend3 = new Date();
                imageend3.setHours(09), imageend3.setMinutes(55);
                var imagestart4 = new Date();
                imagestart4.setHours(12), imagestart4.setMinutes(34);
                var imageend4 = new Date();
                imageend4.setHours(12), imageend4.setMinutes(50);
                var imagestart5 = new Date();
                imagestart5.setHours(14), imagestart5.setMinutes(31);
                var imageend5 = new Date();
                imageend5.setHours(14), imageend5.setMinutes(40);
                var imagestart6 = new Date();
                imagestart6.setHours(16), imagestart6.setMinutes(37);
                var imageend6 = new Date();
                imageend6.setHours(16), imageend6.setMinutes(44);
                var imagestart7 = new Date();
                imagestart7.setHours(18), imagestart7.setMinutes(16);
                var imageend7 = new Date();
                imageend7.setHours(18), imageend7.setMinutes(28);
                var imagestart8 = new Date();
                imagestart8.setHours(20), imagestart8.setMinutes(46);
                var imageend8 = new Date();
                imageend8.setHours(21), imageend8.setMinutes(13);
                var imagestart9 = new Date();
                imagestart9.setHours(22), imagestart9.setMinutes(54);
                var imageend9 = new Date();
                imageend9.setHours(23), imageend9.setMinutes(04);

                if (imagestart1 < nowdate && nowdate < imageend1) {
                    $(".imagefade").attr("src", "ONDEMAND/Images/1.01hrs30.jpg");
                    $(".caption").text("Feed duration 1: 21 minutes");
                }
                else if (imagestart2 < nowdate && nowdate < imageend2) {
                    $(".imagefade").attr("src", "ONDEMAND/Images/1.06hrs28.jpg");
                    $(".caption").text("Feed duration 2: 10 minutes");
                }
                else if (imagestart3 < nowdate && nowdate < imageend3) {
                    $(".imagefade").attr("src", "ONDEMAND/Images/1.09hrs32.jpg");
                    $(".caption").text("Feed duration 3: 23 minutes");
                }
                else if (imagestart4 < nowdate && nowdate < imageend4) {
                    $(".imagefade").attr("src", "ONDEMAND/Images/1.12hrs34.jpg");
                    $(".caption").text("Feed duration 4: 16 minutes");
                }
                else if (imagestart5 < nowdate && nowdate < imageend5) {
                    $(".imagefade").attr("src", "ONDEMAND/Images/1.14hrs31.jpg");
                    $(".caption").text("Feed duration 5: 9 minutes");
                }
                else if (imagestart6 < nowdate && nowdate < imageend6) {
                    $(".imagefade").attr("src", "ONDEMAND/Images/1.16hrs37.jpg");
                    $(".caption").text("Feed duration 6: 7 minutes");
                }
                else if (imagestart7 < nowdate && nowdate < imageend7) {
                    $(".imagefade").attr("src", "ONDEMAND/Images/1.18hrs16.jpg");
                    $(".caption").text("Feed duration 7: 12 minutes");
                }
                else if (imagestart8 < nowdate && nowdate < imageend8) {
                    $(".imagefade").attr("src", "ONDEMAND/Images/1.18hrs16.jpg");
                    $(".caption").text("Feed duration 8: 27 minutes");
                }
                else if (imagestart9 < nowdate && nowdate < imageend9) {
                    $(".imagefade").attr("src", "ONDEMAND/Images/1.22hrs54.jpg");
                    $(".caption").text("Feed duration 9: 10 minutes");
                }
                else {
                    $(".imagefade").attr("src", "ONDEMAND/Images/1.22hrs54.jpg");
                    $(".caption").text("Feed duration 9: 10 minutes");
                }
            })

        </script>
    </imagesection>
</body> -->